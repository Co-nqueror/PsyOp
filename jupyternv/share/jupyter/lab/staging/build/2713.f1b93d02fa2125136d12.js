(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[2713],{32713:(e,t,s)=>{"use strict";s.r(t);s.d(t,{CONTROL_COMM_PROTOCOL_VERSION:()=>O,CONTROL_COMM_TARGET:()=>A,CONTROL_COMM_TIMEOUT:()=>P,DOMWidgetModel:()=>H,DOMWidgetView:()=>K,IJupyterWidgetRegistry:()=>se,JUPYTER_WIDGETS_VERSION:()=>x,JupyterPhosphorPanelWidget:()=>q,JupyterPhosphorWidget:()=>J,LayoutModel:()=>Y,LayoutView:()=>Q,ManagerBase:()=>j,PROTOCOL_VERSION:()=>k,StyleModel:()=>X,StyleView:()=>Z,ViewList:()=>te,WidgetModel:()=>W,WidgetView:()=>V,WrappedError:()=>f,assign:()=>u,base64ToBuffer:()=>E,bufferToBase64:()=>b,bufferToHex:()=>y,difference:()=>h,hexToBuffer:()=>w,isEqual:()=>c,pack_models:()=>U,put_buffers:()=>g,reject:()=>_,remove_buffers:()=>p,resolvePromisesDict:()=>m,serialize_state:()=>S,shims:()=>ee,unpack_models:()=>R,uuid:()=>d});var i=s(79742);var r=s(91100);var n=s(18446);var o=s.n(n);var a=s(68630);var l=s.n(a);function h(e,t){return e.filter((e=>t.indexOf(e)===-1))}function c(e,t){return o()(e,t)}let u=Object.assign||function(e){for(let t=1;t<arguments.length;t++){let s=arguments[t];for(let t in s){if(Object.prototype.hasOwnProperty.call(s,t)){e[t]=s[t]}}}return e};function d(){return r.UUID.uuid4()}class f extends Error{constructor(e,t){super(e);console.warn("WrappedError has been deprecated!");if(t instanceof f){this.error_stack=t.error_stack}else{this.error_stack=[t]}this.error_stack.push(this)}}function m(e){let t=Object.keys(e);let s=[];t.forEach((function(t){s.push(e[t])}));return Promise.all(s).then((e=>{let s={};for(let i=0;i<t.length;i++){s[t[i]]=e[i]}return s}))}function _(e,t){return function s(i){if(t){console.error(new Error(e))}throw i}}function g(e,t,s){for(let i=0;i<t.length;i++){let r=t[i];let n=e;for(let e=0;e<r.length-1;e++){n=n[r[e]]}n[r[r.length-1]]=s[i]}}function p(e){let t=[];let s=[];function i(e,r){if(e.toJSON){e=e.toJSON()}if(Array.isArray(e)){let n=false;for(let o=0;o<e.length;o++){let a=e[o];if(a){if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)){if(!n){e=e.slice();n=true}t.push(ArrayBuffer.isView(a)?a.buffer:a);s.push(r.concat([o]));e[o]=null}else{let t=i(a,r.concat([o]));if(t!==a){if(!n){e=e.slice();n=true}e[o]=t}}}}}else if(l()(e)){for(let n in e){let o=false;if(e.hasOwnProperty(n)){let a=e[n];if(a){if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)){if(!o){e={...e};o=true}t.push(ArrayBuffer.isView(a)?a.buffer:a);s.push(r.concat([n]));delete e[n]}else{let t=i(a,r.concat([n]));if(t!==a){if(!o){e={...e};o=true}e[n]=t}}}}}}return e}let r=i(e,[]);return{state:r,buffers:t,buffer_paths:s}}let v=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"];function y(e){let t=new Uint8Array(e);let s=[];for(let i=0;i<t.length;i++){s.push(v[t[i]])}return s.join("")}function w(e){let t=new Uint8Array(e.length/2);for(let s=0;s<e.length;s+=2){t[s/2]=parseInt(e.slice(s,s+2),16)}return t.buffer}function b(e){return(0,i.JQ)(new Uint8Array(e))}function E(e){return(0,i.b$)(e).buffer}const x="1.2.0";const k="2.1.0";const C=k.split(".",1)[0];const A="jupyter.widget.control";const O="1.0.0";const P=4e3;class j{constructor(){this.comm_target_name="jupyter.widget";this._models=Object.create(null)}display_model(e,t,s={}){return this.create_view(t,s).then((t=>this.display_view(e,t,s))).catch(_("Could not create view",true))}setViewOptions(e={}){return e}create_view(e,t={}){let s=e.state_change=e.state_change.then((()=>this.loadClass(e.get("_view_name"),e.get("_view_module"),e.get("_view_module_version")).then((s=>{let i=new s({model:e,options:this.setViewOptions(t)});i.listenTo(e,"destroy",i.remove);return Promise.resolve(i.render()).then((()=>i))})).catch(_("Could not create a view for model id "+e.model_id,true))));let i=d();e.views[i]=s;s.then((e=>{e.once("remove",(()=>{delete e.model.views[i]}),this)}));return e.state_change}callbacks(e){return{}}get_model(e){return this._models[e]}has_model(e){return this._models[e]!==undefined}handle_comm_open(e,t){let s=(t.metadata||{}).version||"";if(s.split(".",1)[0]!==C){let e=`Wrong widget protocol version: received protocol version '${s}', but was expecting major version '${C}'`;console.error(e);return Promise.reject(e)}let i=t.content.data;let r=i.buffer_paths||[];let n=(t.buffers||[]).map((e=>{if(e instanceof DataView){return e}else{return new DataView(e instanceof ArrayBuffer?e:e.buffer)}}));g(i.state,r,n);return this.new_model({model_name:i.state["_model_name"],model_module:i.state["_model_module"],model_module_version:i.state["_model_module_version"],comm:e},i.state).catch(_("Could not create a model.",true))}new_widget(e,t={}){let s;if(e.view_name===undefined||e.view_module===undefined||e.view_module_version===undefined){return Promise.reject("new_widget(...) must be given view information in the options.")}if(e.comm){s=Promise.resolve(e.comm)}else{s=this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:k})}let i={...e};return s.then((e=>{i.comm=e;let s=this.new_model(i,t);return s.then((e=>{e.sync("create",e);return e}))}),(()=>{if(!i.model_id){i.model_id=d()}return this.new_model(i,t)}))}register_model(e,t){this._models[e]=t;t.then((t=>{t.once("comm:close",(()=>{delete this._models[e]}))}))}async new_model(e,t={}){let s;if(e.model_id){s=e.model_id}else if(e.comm){s=e.model_id=e.comm.comm_id}else{throw new Error("Neither comm nor model_id provided in options object. At least one must exist.")}let i=this._make_model(e,t);this.register_model(s,i);return await i}async _make_model(e,t={}){let s=e.model_id;let i=this.loadClass(e.model_name,e.model_module,e.model_module_version);let r;try{r=await i}catch(l){console.error("Could not instantiate widget");throw l}if(!r){throw new Error(`Cannot find model module ${e.model_module}@${e.model_module_version}, ${e.model_name}`)}let n=await r._deserialize_state(t,this);let o={widget_manager:this,model_id:s,comm:e.comm};let a=new r(n,o);a.name=e.model_name;a.module=e.model_module;return a}async _loadFromKernel(){let e;let t;try{const s=await this._create_comm(A,d(),{},{version:O});await new Promise(((i,r)=>{s.on_msg((s=>{e=s["content"]["data"];if(e.method!=="update_states"){console.warn(`\n                        Unknown ${e.method} message on the Control channel\n                        `);return}t=(s.buffers||[]).map((e=>{if(e instanceof DataView){return e}else{return new DataView(e instanceof ArrayBuffer?e:e.buffer)}}));i(null)}));s.on_close((()=>r("Control comm was closed too early")));s.send({method:"request_states"},{});setTimeout((()=>r("Control comm did not respond in time")),P)}));s.close()}catch(o){console.warn('Failed to fetch ipywidgets through the "jupyter.widget.control" comm channel, fallback to fetching individual model state. Reason:',o);return this._loadFromKernelModels()}const s=e.states;const i={};const r={};for(let a=0;a<e.buffer_paths.length;a++){const[s,...n]=e.buffer_paths[a];const o=t[a];if(!i[s]){i[s]=[];r[s]=[]}i[s].push(n);r[s].push(o)}let n=await Promise.all(Object.keys(s).map((async e=>{const t=this.has_model(e)?undefined:await this._create_comm("jupyter.widget",e);return{widget_id:e,comm:t}})));await Promise.all(n.map((async({widget_id:e,comm:t})=>{const n=s[e];if(e in i){g(n,i[e],r[e])}try{if(t){await this.new_model({model_name:n.model_name,model_module:n.model_module,model_module_version:n.model_module_version,model_id:e,comm:t},n.state)}else{const t=await this.get_model(e);const s=await t.constructor._deserialize_state(n.state,this);t.set_state(s)}}catch(o){console.error(o)}})))}async _loadFromKernelModels(){const e=await this._get_comm_info();const t=await Promise.all(Object.keys(e).map((async e=>{if(this.has_model(e)){return}const t=await this._create_comm(this.comm_target_name,e);let s="";const i=new r.PromiseDelegate;t.on_msg((e=>{if(e.parent_header.msg_id===s&&e.header.msg_type==="comm_msg"&&e.content.data.method==="update"){const s=e.content.data;const r=s.buffer_paths||[];const n=e.buffers||[];g(s.state,r,n);i.resolve({comm:t,msg:e})}}));s=t.send({method:"request_state"},this.callbacks(undefined));return i.promise})));await Promise.all(t.map((async e=>{if(!e){return}const t=e.msg.content;await this.new_model({model_name:t.data.state._model_name,model_module:t.data.state._model_module,model_module_version:t.data.state._model_module_version,comm:e.comm},t.data.state)})))}clear_state(){return m(this._models).then((e=>{Object.keys(e).forEach((t=>e[t].close()));this._models=Object.create(null)}))}get_state(e={}){const t=Object.keys(this._models).map((e=>this._models[e]));return Promise.all(t).then((t=>S(t,e)))}set_state(e){if(!(e.version_major&&e.version_major<=2)){throw"Unsupported widget state format"}let t=e.state;let s=this._get_comm_info().then((e=>Promise.all(Object.keys(t).map((s=>{let i={base64:E,hex:w};let r=t[s];let n=r.state;if(r.buffers){let e=r.buffers.map((e=>e.path));let t=r.buffers.map((e=>new DataView(i[e.encoding](e.data))));g(r.state,e,t)}if(this.has_model(s)){return this.get_model(s).then((e=>e.constructor._deserialize_state(n||{},this).then((t=>{e.set_state(t);return e}))))}let o={model_id:s,model_name:r.model_name,model_module:r.model_module,model_module_version:r.model_module_version};if(e.hasOwnProperty(s)){return this._create_comm(this.comm_target_name,s).then((e=>{o.comm=e;return this.new_model(o)}))}else{return this.new_model(o,n)}})))));return s}disconnect(){Object.keys(this._models).forEach((e=>{this._models[e].then((e=>{e.comm_live=false}))}))}resolveUrl(e){return Promise.resolve(e)}filterExistingModelState(e){let t=e.state;t=Object.keys(t).filter((e=>!this.has_model(e))).reduce(((e,s)=>{e[s]=t[s];return e}),{});return{...e,state:t}}}function S(e,t={}){const s={};e.forEach((e=>{const i=e.model_id;const r=p(e.serialize(e.get_state(t.drop_defaults)));const n=r.buffers.map(((e,t)=>({data:b(e),path:r.buffer_paths[t],encoding:"base64"})));s[i]={model_name:e.name,model_module:e.module,model_module_version:e.get("_model_module_version"),state:r.state};if(n.length>0){s[i].buffers=n}}));return{version_major:2,version_minor:0,state:s}}function M(e,t,s){if(e==null){return this}let i;if(typeof e==="object"){i=e;s=t}else{(i={})[e]=t}s||(s={});if(!this._validate(i,s)){return false}let r=s.unset;let n=s.silent;let o=[];let a=this._changing;this._changing=true;try{if(!a){this._previousAttributes={...this.attributes};this.changed={}}let e=this.attributes;let l=this.changed;let h=this._previousAttributes;for(let s in i){t=i[s];if(!c(e[s],t)){o.push(s)}if(!c(h[s],t)){l[s]=t}else{delete l[s]}r?delete e[s]:e[s]=t}this.id=this.get(this.idAttribute);if(!n){if(o.length){this._pending=s}for(let t=0;t<o.length;t++){this.trigger("change:"+o[t],this,e[o[t]],s)}}if(a){return this}if(!n){while(this._pending){s=this._pending;this._pending=false;this.trigger("change",this,s)}}}finally{this._pending=false;this._changing=false}return this}var T=s(72316);var I=s(52914);var D=s.n(I);const B=Element.prototype;let N=B.matches||B["webkitMatchesSelector"]||B["mozMatchesSelector"]||B["msMatchesSelector"]||B["oMatchesSelector"]||function e(t){let e=(this.document||this.ownerDocument).querySelectorAll(t);let s=e.length;while(--s>=0&&e.item(s)!==this){continue}return s>-1};class F extends T.View{_removeElement(){this.undelegateEvents();if(this.el.parentNode){this.el.parentNode.removeChild(this.el)}}_setElement(e){this.el=e}_setAttributes(e){for(let t in e){t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])}}delegate(e,t,s){if(typeof t!=="string"){s=t;t=null}if(this._domEvents===void 0){this._domEvents=[]}let i=this.el;let r=t?function(e){let r=e.target||e.srcElement;for(;r&&r!==i;r=r.parentNode){if(N.call(r,t)){e.delegateTarget=r;if(s.handleEvent){return s.handleEvent(e)}else{return s(e)}}}}:s;this.el.addEventListener(e,r,false);this._domEvents.push({eventName:e,handler:r,listener:s,selector:t});return r}undelegate(e,t,s){if(typeof t==="function"){s=t;t=null}if(this.el&&this._domEvents){let i=this._domEvents.slice();let r=i.length;while(r--){let n=i[r];let o=n.eventName===e&&(s?n.listener===s:true)&&(t?n.selector===t:true);if(!o){continue}this.el.removeEventListener(n.eventName,n.handler,false);this._domEvents.splice(r,1)}}return this}undelegateEvents(){if(this.el&&this._domEvents){let e=this._domEvents.length;for(let t=0;t<e;t++){let e=this._domEvents[t];this.el.removeEventListener(e.eventName,e.handler,false)}this._domEvents.length=0}return this}}var z=s(70);var $=s(46843);const L="IPY_MODEL_";function R(e,t){if(Array.isArray(e)){const s=[];e.forEach(((e,i)=>{s.push(R(e,t))}));return Promise.all(s)}else if(e instanceof Object){const s={};Object.keys(e).forEach((i=>{s[i]=R(e[i],t)}));return m(s)}else if(typeof e==="string"&&e.slice(0,10)==="IPY_MODEL_"){return t.get_model(e.slice(10,e.length))}else{return Promise.resolve(e)}}function U(e,t){if(Array.isArray(e)){const s=[];for(const i of e){s.push(U(i,t))}return s}else if(e instanceof W){return`${L}${e.model_id}`}else if(e instanceof Object&&typeof e!=="string"){const s={};Object.keys(e).forEach((i=>{s[i]=U(e[i],t)}))}else{return e}}class W extends T.Model{defaults(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:x,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:x,_view_count:null}}isNew(){return false}initialize(e,t){this._expectedEchoMsgIds={};this._attrsToUpdate={};super.initialize(e,t);this.widget_manager=t.widget_manager;this.model_id=t.model_id;let s=t.comm;this.views=Object.create(null);this.state_change=Promise.resolve();this._closed=false;this._state_lock=null;this._msg_buffer=null;this._msg_buffer_callbacks=null;this._pending_msgs=0;this._buffered_state_diff={};if(s){this.comm=s;s.on_close(this._handle_comm_closed.bind(this));s.on_msg(this._handle_comm_msg.bind(this));this.comm_live=true}else{this.comm_live=false}}get comm_live(){return this._comm_live}set comm_live(e){this._comm_live=e;this.trigger("comm_live_update")}send(e,t,s){if(this.comm!==undefined){let i={method:"custom",content:e};this.comm.send(i,t,{},s)}}close(e=false){if(this._closed){return}this._closed=true;if(this.comm&&!e){this.comm.close()}this.stopListening();this.trigger("destroy",this);if(this.comm){delete this.comm}let t=Object.keys(this.views).map((e=>this.views[e].then((e=>e.remove()))));delete this.views;return Promise.all(t).then((()=>{}))}_handle_comm_closed(e){this.trigger("comm:close");this.close(true)}_handle_comm_msg(e){const t=e.content.data;let s=t.method;switch(s){case"update":case"echo_update":this.state_change=this.state_change.then((()=>{var i,r,n;let o=t.state;let a=(i=t.buffer_paths)!==null&&i!==void 0?i:[];let l=((n=(r=e.buffers)===null||r===void 0?void 0:r.slice(0,a.length))!==null&&n!==void 0?n:[]).map((e=>{if(e instanceof DataView){return e}else{return new DataView(e instanceof ArrayBuffer?e:e.buffer)}}));g(o,a,l);if(e.parent_header&&s==="echo_update"){const t=e.parent_header.msg_id;const s=Object.keys(o).filter((e=>this._expectedEchoMsgIds.hasOwnProperty(e)));s.forEach((e=>{const s=this._expectedEchoMsgIds[e]!==t;if(s){delete o[e]}else{delete this._expectedEchoMsgIds[e];if(this._msg_buffer!==null&&Object.prototype.hasOwnProperty.call(this._msg_buffer,e)){delete o[e]}}}))}return this.constructor._deserialize_state(o,this.widget_manager)})).then((e=>{this.set_state(e)})).catch(_(`Could not process update msg for model id: ${this.model_id}`,true));return this.state_change;case"custom":this.trigger("msg:custom",t.content,e.buffers);return Promise.resolve()}}set_state(e){this._state_lock=e;try{this.set(e)}catch(t){console.error(`Error setting state: ${t.message}`)}finally{this._state_lock=null}}get_state(e){let t=this.attributes;if(e){let e=this.defaults;let s=typeof e==="function"?e.call(this):e;let i={};Object.keys(t).forEach((e=>{if(!c(t[e],s[e])){i[e]=t[e]}}));return i}else{return{...t}}}_handle_status(e){if(this.comm!==void 0){if(e.content.execution_state==="idle"){this._pending_msgs--;if(this._pending_msgs<0){console.error(`Jupyter Widgets message throttle: Pending messages < 0 (=${this._pending_msgs}), which is unexpected. Resetting to 0 to continue.`);this._pending_msgs=0}if(this._msg_buffer!==null&&this._pending_msgs<1){const e=this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks);this.rememberLastUpdateFor(e);this._msg_buffer=null;this._msg_buffer_callbacks=null}}}}callbacks(e){return this.widget_manager.callbacks(e)}set(e,t,s){let i=M.call(this,e,t,s);if(this._buffered_state_diff!==void 0){let e=this.changedAttributes()||{};if(this._state_lock){for(const t of Object.keys(this._state_lock)){if(e[t]===this._state_lock[t]){delete e[t]}}}this._buffered_state_diff=u(this._buffered_state_diff,e)}return i}sync(e,t,s={}){if(this.comm===undefined){throw"Syncing error: no comm channel defined"}let i=e==="patch"?s.attrs:t.get_state(s.drop_defaults);if(this._state_lock){for(const e of Object.keys(this._state_lock)){if(i[e]===this._state_lock[e]){delete i[e]}}}Object.keys(i).forEach((e=>{this._attrsToUpdate[e]=true}));let r=this.serialize(i);if(Object.keys(r).length>0){let t=s.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=u(this._msg_buffer||{},r);break;case"update":case"create":this._msg_buffer=r;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=t}else{const e=this.send_sync_message(i,t);this.rememberLastUpdateFor(e)}}}rememberLastUpdateFor(e){Object.keys(this._attrsToUpdate).forEach((t=>{this._expectedEchoMsgIds[t]=e}));this._attrsToUpdate={}}serialize(e){const t=this.constructor.serializers||{};for(const i of Object.keys(e)){try{if(t[i]&&t[i].serialize){e[i]=t[i].serialize(e[i],this)}else{e[i]=JSON.parse(JSON.stringify(e[i]))}if(e[i]&&e[i].toJSON){e[i]=e[i].toJSON()}}catch(s){console.error("Error serializing widget state attribute: ",i);throw s}}return e}send_sync_message(e,t={}){if(!this.comm){return""}try{t={shell:{...t.shell},iopub:{...t.iopub},input:t.input};const s=t.iopub.status;t.iopub.status=e=>{this._handle_status(e);if(s){s(e)}};let i=p(e);const r=this.comm.send({method:"update",state:i.state,buffer_paths:i.buffer_paths},t,{},i.buffers);this._pending_msgs++;return r}catch(s){console.error("Could not send widget sync message",s)}return""}save_changes(e){if(this.comm_live){let t={patch:true};if(e){t.callbacks=e}this.save(this._buffered_state_diff,t);this._buffered_state_diff={}}}on_some_change(e,t,s){const i=this;this.on("change",(function(){if(e.some(i.hasChanged,i)){t.apply(s,arguments)}}),this)}toJSON(e){return`IPY_MODEL_${this.model_id}`}static _deserialize_state(e,t){let s=this.serializers;let i;if(s){i={};for(let r in e){if(s[r]&&s[r].deserialize){i[r]=s[r].deserialize(e[r],t)}else{i[r]=e[r]}}}else{i=e}return m(i)}}class H extends W{defaults(){return u(super.defaults(),{_dom_classes:[]})}}H.serializers={...W.serializers,layout:{deserialize:R},style:{deserialize:R}};class V extends F{constructor(e){super(e)}initialize(e){this.listenTo(this.model,"change",(()=>{let e=Object.keys(this.model.changedAttributes()||{});if(e[0]==="_view_count"&&e.length===1){return}this.update()}));this.options=e.options;this.once("remove",(()=>{if(typeof this.model.get("_view_count")==="number"){this.model.set("_view_count",this.model.get("_view_count")-1);this.model.save_changes()}}));this.once("displayed",(()=>{if(typeof this.model.get("_view_count")==="number"){this.model.set("_view_count",this.model.get("_view_count")+1);this.model.save_changes()}}));this.displayed=new Promise(((e,t)=>{this.once("displayed",e)}))}update(e){return}render(){return}create_child_view(e,t={}){t={parent:this,...t};return this.model.widget_manager.create_view(e,t).catch(_("Could not create child view",true))}callbacks(){return this.model.callbacks(this)}send(e,t){this.model.send(e,this.callbacks(),t)}touch(){this.model.save_changes(this.callbacks())}remove(){super.remove();this.trigger("remove");return this}}class J extends z.Widget{constructor(e){let t=e.view;delete e.view;super(e);this._view=t}dispose(){if(this.isDisposed){return}super.dispose();if(this._view){this._view.remove()}this._view=null}processMessage(e){super.processMessage(e);this._view.processPhosphorMessage(e)}}class q extends z.Panel{constructor(e){let t=e.view;delete e.view;super(e);this._view=t}processMessage(e){super.processMessage(e);this._view.processPhosphorMessage(e)}dispose(){if(this.isDisposed){return}super.dispose();if(this._view){this._view.remove()}this._view=null}}class K extends V{initialize(e){super.initialize(e);this.listenTo(this.model,"change:_dom_classes",((e,t)=>{let s=e.previous("_dom_classes");this.update_classes(s,t)}));this.layoutPromise=Promise.resolve();this.listenTo(this.model,"change:layout",((e,t)=>{this.setLayout(t,e.previous("layout"))}));this.stylePromise=Promise.resolve();this.listenTo(this.model,"change:style",((e,t)=>{this.setStyle(t,e.previous("style"))}));this.displayed.then((()=>{this.update_classes([],this.model.get("_dom_classes"));this.setLayout(this.model.get("layout"));this.setStyle(this.model.get("style"))}));this._comm_live_update();this.listenTo(this.model,"comm_live_update",(()=>{this._comm_live_update()}))}setLayout(e,t){if(e){this.layoutPromise=this.layoutPromise.then((t=>{if(t){t.unlayout();this.stopListening(t.model);t.remove()}return this.create_child_view(e).then((e=>this.displayed.then((()=>{e.trigger("displayed");this.listenTo(e.model,"change",(()=>{$.MessageLoop.postMessage(this.pWidget,z.Widget.ResizeMessage.UnknownSize)}));$.MessageLoop.postMessage(this.pWidget,z.Widget.ResizeMessage.UnknownSize);return e})))).catch(_("Could not add LayoutView to DOMWidgetView",true))}))}}setStyle(e,t){if(e){this.stylePromise=this.stylePromise.then((t=>{if(t){t.unstyle();this.stopListening(t.model);t.remove()}return this.create_child_view(e).then((e=>this.displayed.then((()=>{e.trigger("displayed");return e})))).catch(_("Could not add styleView to DOMWidgetView",true))}))}}update_classes(e,t,s){if(s===undefined){s=this.el}h(e,t).map((function(e){if(s.classList){s.classList.remove(e)}else{s.setAttribute("class",s.getAttribute("class").replace(e,""))}}));h(t,e).map((function(e){if(s.classList){s.classList.add(e)}else{s.setAttribute("class",s.getAttribute("class").concat(" ",e))}}))}update_mapped_classes(e,t,s){let i=this.model.previous(t);let r=e[i]?e[i]:[];i=this.model.get(t);let n=e[i]?e[i]:[];this.update_classes(r,n,s||this.el)}set_mapped_classes(e,t,s){let i=this.model.get(t);let r=e[i]?e[i]:[];this.update_classes([],r,s||this.el)}_setElement(e){if(this.pWidget){this.pWidget.dispose()}this.$el=e instanceof D()?e:D()(e);this.el=this.$el[0];this.pWidget=new J({node:e,view:this})}remove(){if(this.pWidget){this.pWidget.dispose()}return super.remove()}processPhosphorMessage(e){switch(e.type){case"after-attach":this.trigger("displayed");break}}_comm_live_update(){if(this.model.comm_live){this.pWidget.removeClass("jupyter-widgets-disconnected")}else{this.pWidget.addClass("jupyter-widgets-disconnected")}}}let G={align_content:null,align_items:null,align_self:null,border:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,justify_items:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,overflow_x:null,overflow_y:null,order:null,padding:null,right:null,top:null,visibility:null,width:null,object_fit:null,object_position:null,grid_auto_columns:null,grid_auto_flow:null,grid_auto_rows:null,grid_gap:null,grid_template_rows:null,grid_template_columns:null,grid_template_areas:null,grid_row:null,grid_column:null,grid_area:null};class Y extends W{defaults(){return u(super.defaults(),{_model_name:"LayoutModel",_view_name:"LayoutView"},G)}}class Q extends V{initialize(e){this._traitNames=[];super.initialize(e);for(let t of Object.keys(G)){this.registerTrait(t)}}registerTrait(e){this._traitNames.push(e);if(e==="overflow_x"||e==="overflow_y"){this.listenTo(this.model,"change:"+e,((t,s)=>{this.handleOverflowChange(e,s)}));this.handleOverflowChange(e,this.model.get(e));return}this.listenTo(this.model,"change:"+e,((t,s)=>{this.handleChange(e,s)}));this.handleChange(e,this.model.get(e))}css_name(e){return e.replace(/_/g,"-")}handleChange(e,t){let s=this.options.parent;if(s){if(t===null){s.el.style.removeProperty(this.css_name(e))}else{s.el.style[this.css_name(e)]=t}}else{console.warn("Style not applied because a parent view does not exist")}}handleOverflowChange(e,t){let s=this.options.parent;if(s){if(t===null){if(this.model.get("overflow")===null){s.el.style.removeProperty(this.css_name(e))}}else{s.el.style[this.css_name(e)]=t}}else{console.warn("Style not applied because a parent view does not exist")}}unlayout(){let e=this.options.parent;this._traitNames.forEach((t=>{if(e){e.el.style.removeProperty(this.css_name(t))}else{console.warn("Style not removed because a parent view does not exist")}}),this)}}class X extends W{defaults(){let e=this.constructor;return u(super.defaults(),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(e.styleProperties).reduce(((t,s)=>{t[s]=e.styleProperties[s].default;return t}),{}))}}X.styleProperties={};class Z extends V{initialize(e){this._traitNames=[];super.initialize(e);let t=this.model.constructor;for(let s of Object.keys(t.styleProperties)){this.registerTrait(s)}this.style()}registerTrait(e){this._traitNames.push(e);this.listenTo(this.model,"change:"+e,((t,s)=>{this.handleChange(e,s)}))}handleChange(e,t){let s=this.options.parent;if(s){let i=this.model.constructor;let r=i.styleProperties;let n=r[e].attribute;let o=r[e].selector;let a=o?s.el.querySelectorAll(o):[s.el];if(t===null){for(let e=0;e!==a.length;++e){a[e].style.removeProperty(n)}}else{for(let e=0;e!==a.length;++e){a[e].style[n]=t}}}else{console.warn("Style not applied because a parent view does not exist")}}style(){for(let e of this._traitNames){this.handleChange(e,this.model.get(e))}}unstyle(){let e=this.options.parent;let t=this.model.constructor;let s=t.styleProperties;this._traitNames.forEach((t=>{if(e){let i=s[t].attribute;let r=s[t].selector;let n=r?e.el.querySelectorAll(r):[e.el];for(let e=0;e!==n.length;++e){n[e].style.removeProperty(i)}}else{console.warn("Style not removed because a parent view does not exist")}}),this)}}var ee;(function(e){let t;(function(e){class t{constructor(e){this.targets=Object.create(null);this.comms=Object.create(null);this.kernel=null;this.jsServicesKernel=null;this.init_kernel(e)}init_kernel(e){this.kernel=e;this.jsServicesKernel=e}async new_comm(e,t,i,r,n,o){let a=this.jsServicesKernel.createComm(e,n);let l=new s(a);this.register_comm(l);l.open(t,i,r,o);return l}register_target(e,t){let i=this.jsServicesKernel.registerCommTarget(e,((e,i)=>{let r=new s(e);this.register_comm(r);try{return t(r,i)}catch(n){r.close();console.error(n);console.error(new Error("Exception opening new comm"))}}));this.targets[e]=i}unregister_target(e,t){let s=this.targets[e];s.dispose();delete this.targets[e]}register_comm(e){this.comms[e.comm_id]=Promise.resolve(e);e.kernel=this.kernel;return e.comm_id}}e.CommManager=t;class s{constructor(e){this.jsServicesComm=null;this.kernel=null;this.jsServicesComm=e}get comm_id(){return this.jsServicesComm.commId}get target_name(){return this.jsServicesComm.targetName}open(e,t,s,i){let r=this.jsServicesComm.open(e,s,i);this._hookupCallbacks(r,t);return r.msg.header.msg_id}send(e,t,s,i){let r=this.jsServicesComm.send(e,s,i);this._hookupCallbacks(r,t);return r.msg.header.msg_id}close(e,t,s,i){let r=this.jsServicesComm.close(e,s,i);this._hookupCallbacks(r,t);return r.msg.header.msg_id}on_msg(e){this.jsServicesComm.onMsg=e.bind(this)}on_close(e){this.jsServicesComm.onClose=e.bind(this)}_hookupCallbacks(e,t){if(t){e.onReply=function(e){if(t.shell&&t.shell.reply){t.shell.reply(e)}};e.onStdin=function(e){if(t.input){t.input(e)}};e.onIOPub=function(e){if(t.iopub){if(t.iopub.status&&e.header.msg_type==="status"){t.iopub.status(e)}else if(t.iopub.clear_output&&e.header.msg_type==="clear_output"){t.iopub.clear_output(e)}else if(t.iopub.output){switch(e.header.msg_type){case"display_data":case"execute_result":case"stream":case"error":t.iopub.output(e);break;default:break}}}}}}}e.Comm=s})(t=e.services||(e.services={}))})(ee||(ee={}));class te{constructor(e,t,s){this.initialize(e,t,s)}initialize(e,t,s){this._handler_context=s||this;this._models=[];this.views=[];this._create_view=e;this._remove_view=t||function(e){e.remove()}}update(e,t,s,i){let r=s||this._remove_view;let n=t||this._create_view;i=i||this._handler_context;let o=0;for(;o<e.length;o++){if(o>=this._models.length||e[o]!==this._models[o]){break}}let a=o;let l=this.views.splice(a,this.views.length-a);for(let h=0;h<l.length;h++){l[h].then((function(e){r.call(i,e)}))}for(;o<e.length;o++){this.views.push(Promise.resolve(n.call(i,e[o],o)))}this._models=e.slice();return Promise.all(this.views)}remove(){return Promise.all(this.views).then((e=>{e.forEach((e=>this._remove_view.call(this._handler_context,e)));this.views=[];this._models=[]}))}dispose(){this.views=null;this._models=null}}const se=new r.Token("jupyter.extensions.jupyterWidgetRegistry")},72316:(e,t,s)=>{var i,r;(function(n){var o=typeof self=="object"&&self.self==self&&self||typeof s.g=="object"&&s.g.global==s.g&&s.g;if(true){!(i=[s(25640),s(52914),t],r=function(e,t,s){o.Backbone=n(o,s,e,t)}.apply(t,i),r!==undefined&&(e.exports=r))}else{var a,l}})((function(e,t,s,i){var r=e.Backbone;var n=Array.prototype.slice;t.VERSION="1.2.3";t.$=i;t.noConflict=function(){e.Backbone=r;return this};t.emulateHTTP=false;t.emulateJSON=false;var o=function(e,t,i){switch(e){case 1:return function(){return s[t](this[i])};case 2:return function(e){return s[t](this[i],e)};case 3:return function(e,r){return s[t](this[i],l(e,this),r)};case 4:return function(e,r,n){return s[t](this[i],l(e,this),r,n)};default:return function(){var e=n.call(arguments);e.unshift(this[i]);return s[t].apply(s,e)}}};var a=function(e,t,i){s.each(t,(function(t,r){if(s[r])e.prototype[r]=o(t,r,i)}))};var l=function(e,t){if(s.isFunction(e))return e;if(s.isObject(e)&&!t._isModel(e))return h(e);if(s.isString(e))return function(t){return t.get(e)};return e};var h=function(e){var t=s.matches(e);return function(e){return t(e.attributes)}};var c=t.Events={};var u=/\s+/;var d=function(e,t,i,r,n){var o=0,a;if(i&&typeof i==="object"){if(r!==void 0&&"context"in n&&n.context===void 0)n.context=r;for(a=s.keys(i);o<a.length;o++){t=d(e,t,a[o],i[a[o]],n)}}else if(i&&u.test(i)){for(a=i.split(u);o<a.length;o++){t=e(t,a[o],r,n)}}else{t=e(t,i,r,n)}return t};c.on=function(e,t,s){return f(this,e,t,s)};var f=function(e,t,s,i,r){e._events=d(m,e._events||{},t,s,{context:i,ctx:e,listening:r});if(r){var n=e._listeners||(e._listeners={});n[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=s.uniqueId("l"));var n=this._listeningTo||(this._listeningTo={});var o=n[r];if(!o){var a=this._listenId||(this._listenId=s.uniqueId("l"));o=n[r]={obj:e,objId:r,id:a,listeningTo:n,count:0}}f(e,t,i,this,o);return this};var m=function(e,t,s,i){if(s){var r=e[t]||(e[t]=[]);var n=i.context,o=i.ctx,a=i.listening;if(a)a.count++;r.push({callback:s,context:n,ctx:n||o,listening:a})}return e};c.off=function(e,t,s){if(!this._events)return this;this._events=d(_,this._events,e,t,{context:s,listeners:this._listeners});return this};c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;var n=e?[e._listenId]:s.keys(r);for(var o=0;o<n.length;o++){var a=r[n[o]];if(!a)break;a.obj.off(t,i,this)}if(s.isEmpty(r))this._listeningTo=void 0;return this};var _=function(e,t,i,r){if(!e)return;var n=0,o;var a=r.context,l=r.listeners;if(!t&&!i&&!a){var h=s.keys(l);for(;n<h.length;n++){o=l[h[n]];delete l[o.id];delete o.listeningTo[o.objId]}return}var c=t?[t]:s.keys(e);for(;n<c.length;n++){t=c[n];var u=e[t];if(!u)break;var d=[];for(var f=0;f<u.length;f++){var m=u[f];if(i&&i!==m.callback&&i!==m.callback._callback||a&&a!==m.context){d.push(m)}else{o=m.listening;if(o&&--o.count===0){delete l[o.id];delete o.listeningTo[o.objId]}}}if(d.length){e[t]=d}else{delete e[t]}}if(s.size(e))return e};c.once=function(e,t,i){var r=d(g,{},e,t,s.bind(this.off,this));return this.on(r,void 0,i)};c.listenToOnce=function(e,t,i){var r=d(g,{},t,i,s.bind(this.stopListening,this,e));return this.listenTo(e,r)};var g=function(e,t,i,r){if(i){var n=e[t]=s.once((function(){r(t,n);i.apply(this,arguments)}));n._callback=i}return e};c.trigger=function(e){if(!this._events)return this;var t=Math.max(0,arguments.length-1);var s=Array(t);for(var i=0;i<t;i++)s[i]=arguments[i+1];d(p,this._events,e,void 0,s);return this};var p=function(e,t,s,i){if(e){var r=e[t];var n=e.all;if(r&&n)n=n.slice();if(r)v(r,i);if(n)v(n,[t].concat(i))}return e};var v=function(e,t){var s,i=-1,r=e.length,n=t[0],o=t[1],a=t[2];switch(t.length){case 0:while(++i<r)(s=e[i]).callback.call(s.ctx);return;case 1:while(++i<r)(s=e[i]).callback.call(s.ctx,n);return;case 2:while(++i<r)(s=e[i]).callback.call(s.ctx,n,o);return;case 3:while(++i<r)(s=e[i]).callback.call(s.ctx,n,o,a);return;default:while(++i<r)(s=e[i]).callback.apply(s.ctx,t);return}};c.bind=c.on;c.unbind=c.off;s.extend(t,c);var y=t.Model=function(e,t){var i=e||{};t||(t={});this.cid=s.uniqueId(this.cidPrefix);this.attributes={};if(t.collection)this.collection=t.collection;if(t.parse)i=this.parse(i,t)||{};i=s.defaults({},i,s.result(this,"defaults"));this.set(i,t);this.changed={};this.initialize.apply(this,arguments)};s.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return this.get(e)!=null},matches:function(e){return!!s.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(e==null)return this;var r;if(typeof e==="object"){r=e;i=t}else{(r={})[e]=t}i||(i={});if(!this._validate(r,i))return false;var n=i.unset;var o=i.silent;var a=[];var l=this._changing;this._changing=true;if(!l){this._previousAttributes=s.clone(this.attributes);this.changed={}}var h=this.attributes;var c=this.changed;var u=this._previousAttributes;for(var d in r){t=r[d];if(!s.isEqual(h[d],t))a.push(d);if(!s.isEqual(u[d],t)){c[d]=t}else{delete c[d]}n?delete h[d]:h[d]=t}this.id=this.get(this.idAttribute);if(!o){if(a.length)this._pending=i;for(var f=0;f<a.length;f++){this.trigger("change:"+a[f],this,h[a[f]],i)}}if(l)return this;if(!o){while(this._pending){i=this._pending;this._pending=false;this.trigger("change",this,i)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:true}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,s.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!s.isEmpty(this.changed);return s.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):false;var t=this._changing?this._previousAttributes:this.attributes;var i={};for(var r in e){var n=e[r];if(s.isEqual(t[r],n))continue;i[r]=n}return s.size(i)?i:false},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){e=s.extend({parse:true},e);var t=this;var i=e.success;e.success=function(s){var r=e.parse?t.parse(s,e):s;if(!t.set(r,e))return false;if(i)i.call(e.context,t,s,e);t.trigger("sync",t,s,e)};R(this,e);return this.sync("read",this,e)},save:function(e,t,i){var r;if(e==null||typeof e==="object"){r=e;i=t}else{(r={})[e]=t}i=s.extend({validate:true,parse:true},i);var n=i.wait;if(r&&!n){if(!this.set(r,i))return false}else{if(!this._validate(r,i))return false}var o=this;var a=i.success;var l=this.attributes;i.success=function(e){o.attributes=l;var t=i.parse?o.parse(e,i):e;if(n)t=s.extend({},r,t);if(t&&!o.set(t,i))return false;if(a)a.call(i.context,o,e,i);o.trigger("sync",o,e,i)};R(this,i);if(r&&n)this.attributes=s.extend({},l,r);var h=this.isNew()?"create":i.patch?"patch":"update";if(h==="patch"&&!i.attrs)i.attrs=r;var c=this.sync(h,this,i);this.attributes=l;return c},destroy:function(e){e=e?s.clone(e):{};var t=this;var i=e.success;var r=e.wait;var n=function(){t.stopListening();t.trigger("destroy",t,t.collection,e)};e.success=function(s){if(r)n();if(i)i.call(e.context,t,s,e);if(!t.isNew())t.trigger("sync",t,s,e)};var o=false;if(this.isNew()){s.defer(e.success)}else{R(this,e);o=this.sync("delete",this,e)}if(!r)n();return o},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||L();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},s.defaults({validate:true},e))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=s.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;if(!i)return true;this.trigger("invalid",this,i,s.extend(t,{validationError:i}));return false}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(y,w,"attributes");var b=t.Collection=function(e,t){t||(t={});if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,s.extend({silent:true},t))};var E={add:true,remove:true,merge:true};var x={add:true,remove:false};var k=function(e,t,s){s=Math.min(Math.max(s,0),e.length);var i=Array(e.length-s);var r=t.length;for(var n=0;n<i.length;n++)i[n]=e[n+s];for(n=0;n<r;n++)e[n+s]=t[n];for(n=0;n<i.length;n++)e[n+r+s]=i[n]};s.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.extend({merge:false},t,x))},remove:function(e,t){t=s.extend({},t);var i=!s.isArray(e);e=i?[e]:s.clone(e);var r=this._removeModels(e,t);if(!t.silent&&r)this.trigger("update",this,t);return i?r[0]:r},set:function(e,t){if(e==null)return;t=s.defaults({},t,E);if(t.parse&&!this._isModel(e))e=this.parse(e,t);var i=!s.isArray(e);e=i?[e]:e.slice();var r=t.at;if(r!=null)r=+r;if(r<0)r+=this.length+1;var n=[];var o=[];var a=[];var l={};var h=t.add;var c=t.merge;var u=t.remove;var d=false;var f=this.comparator&&r==null&&t.sort!==false;var m=s.isString(this.comparator)?this.comparator:null;var _;for(var g=0;g<e.length;g++){_=e[g];var p=this.get(_);if(p){if(c&&_!==p){var v=this._isModel(_)?_.attributes:_;if(t.parse)v=p.parse(v,t);p.set(v,t);if(f&&!d)d=p.hasChanged(m)}if(!l[p.cid]){l[p.cid]=true;n.push(p)}e[g]=p}else if(h){_=e[g]=this._prepareModel(_,t);if(_){o.push(_);this._addReference(_,t);l[_.cid]=true;n.push(_)}}}if(u){for(g=0;g<this.length;g++){_=this.models[g];if(!l[_.cid])a.push(_)}if(a.length)this._removeModels(a,t)}var y=false;var w=!f&&h&&u;if(n.length&&w){y=this.length!=n.length||s.some(this.models,(function(e,t){return e!==n[t]}));this.models.length=0;k(this.models,n,0);this.length=this.models.length}else if(o.length){if(f)d=true;k(this.models,o,r==null?this.length:r);this.length=this.models.length}if(d)this.sort({silent:true});if(!t.silent){for(g=0;g<o.length;g++){if(r!=null)t.index=r+g;_=o[g];_.trigger("add",_,this,t)}if(d||y)this.trigger("sort",this,t);if(o.length||a.length)this.trigger("update",this,t)}return i?e[0]:e},reset:function(e,t){t=t?s.clone(t):{};for(var i=0;i<this.models.length;i++){this._removeReference(this.models[i],t)}t.previousModels=this.models;this._reset();e=this.add(e,s.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return e},push:function(e,t){return this.add(e,s.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,s.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return n.apply(this.models,arguments)},get:function(e){if(e==null)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){if(e<0)e+=this.length;return this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,true)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;if(s.isFunction(t))t=s.bind(t,this);if(i===1||s.isString(t)){this.models=this.sortBy(t)}else{this.models.sort(t)}if(!e.silent)this.trigger("sort",this,e);return this},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){e=s.extend({parse:true},e);var t=e.success;var i=this;e.success=function(s){var r=e.reset?"reset":"set";i[r](s,e);if(t)t.call(e.context,i,s,e);i.trigger("sync",i,s,e)};R(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?s.clone(t):{};var i=t.wait;e=this._prepareModel(e,t);if(!e)return false;if(!i)this.add(e,t);var r=this;var n=t.success;t.success=function(e,t,s){if(i)r.add(e,s);if(n)n.call(s.context,e,t,s)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(this._isModel(e)){if(!e.collection)e.collection=this;return e}t=t?s.clone(t):{};t.collection=this;var i=new this.model(e,t);if(!i.validationError)return i;this.trigger("invalid",this,i.validationError,t);return false},_removeModels:function(e,t){var s=[];for(var i=0;i<e.length;i++){var r=this.get(e[i]);if(!r)continue;var n=this.indexOf(r);this.models.splice(n,1);this.length--;if(!t.silent){t.index=n;r.trigger("remove",r,this,t)}s.push(r);this._removeReference(r,t)}return s.length?s:false},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var s=this.modelId(e.attributes);if(s!=null)this._byId[s]=e;e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var s=this.modelId(e.attributes);if(s!=null)delete this._byId[s];if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,s,i){if((e==="add"||e==="remove")&&s!==this)return;if(e==="destroy")this.remove(t,i);if(e==="change"){var r=this.modelId(t.previousAttributes());var n=this.modelId(t.attributes);if(r!==n){if(r!=null)delete this._byId[r];if(n!=null)this._byId[n]=t}}this.trigger.apply(this,arguments)}});var C={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};a(b,C,"models");var A=t.View=function(e){this.cid=s.uniqueId("view");s.extend(this,s.pick(e,P));this._ensureElement();this.initialize.apply(this,arguments)};var O=/^(\S+)\s*(.*)$/;var P=["model","collection","el","id","attributes","className","tagName","events"];s.extend(A.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(e){this.undelegateEvents();this._setElement(e);this.delegateEvents();return this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e);this.el=this.$el[0]},delegateEvents:function(e){e||(e=s.result(this,"events"));if(!e)return this;this.undelegateEvents();for(var t in e){var i=e[t];if(!s.isFunction(i))i=this[i];if(!i)continue;var r=t.match(O);this.delegate(r[1],r[2],s.bind(i,this))}return this},delegate:function(e,t,s){this.$el.on(e+".delegateEvents"+this.cid,t,s);return this},undelegateEvents:function(){if(this.$el)this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(e,t,s){this.$el.off(e+".delegateEvents"+this.cid,t,s);return this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=s.extend({},s.result(this,"attributes"));if(this.id)e.id=s.result(this,"id");if(this.className)e["class"]=s.result(this,"className");this.setElement(this._createElement(s.result(this,"tagName")));this._setAttributes(e)}else{this.setElement(s.result(this,"el"))}},_setAttributes:function(e){this.$el.attr(e)}});t.sync=function(e,i,r){var n=j[e];s.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:n,dataType:"json"};if(!r.url){o.url=s.result(i,"url")||L()}if(r.data==null&&i&&(e==="create"||e==="update"||e==="patch")){o.contentType="application/json";o.data=JSON.stringify(r.attrs||i.toJSON(r))}if(r.emulateJSON){o.contentType="application/x-www-form-urlencoded";o.data=o.data?{model:o.data}:{}}if(r.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){o.type="POST";if(r.emulateJSON)o.data._method=n;var a=r.beforeSend;r.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",n);if(a)return a.apply(this,arguments)}}if(o.type!=="GET"&&!r.emulateJSON){o.processData=false}var l=r.error;r.error=function(e,t,s){r.textStatus=t;r.errorThrown=s;if(l)l.call(r.context,e,t,s)};var h=r.xhr=t.ajax(s.extend(o,r));i.trigger("request",i,h,r);return h};var j={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=t.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var M=/\((.*?)\)/g;var T=/(\(\?)?:\w+/g;var I=/\*\w+/g;var D=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(S.prototype,c,{initialize:function(){},route:function(e,i,r){if(!s.isRegExp(e))e=this._routeToRegExp(e);if(s.isFunction(i)){r=i;i=""}if(!r)r=this[i];var n=this;t.history.route(e,(function(s){var o=n._extractParameters(e,s);if(n.execute(r,o,i)!==false){n.trigger.apply(n,["route:"+i].concat(o));n.trigger("route",i,o);t.history.trigger("route",n,i,o)}}));return this},execute:function(e,t,s){if(e)e.apply(this,t)},navigate:function(e,s){t.history.navigate(e,s);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=s.result(this,"routes");var e,t=s.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(D,"\\$&").replace(M,"(?:$1)?").replace(T,(function(e,t){return t?e:"([^/?]+)"})).replace(I,"([^?]*?)");return new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return s.map(i,(function(e,t){if(t===i.length-1)return e||null;return e?decodeURIComponent(e):null}))}});var B=t.History=function(){this.handlers=[];this.checkUrl=s.bind(this.checkUrl,this);if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var N=/^[#\/]|\s+$/g;var F=/^\/+|\/+$/g;var z=/#.*$/;B.started=false;s.extend(B.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname);var t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return e.charAt(0)==="/"?e.slice(1):e},getFragment:function(e){if(e==null){if(this._usePushState||!this._wantsHashChange){e=this.getPath()}else{e=this.getHash()}}return e.replace(N,"")},start:function(e){if(B.started)throw new Error("Backbone.history has already been started");B.started=true;this.options=s.extend({root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(F,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";this.location.replace(t+"#"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var i=document.body;var r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open();r.document.close();r.location.hash="#"+this.fragment}var n=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState){n("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){n("hashchange",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};if(this._usePushState){e("popstate",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){e("hashchange",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);B.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getHash(this.iframe.contentWindow)}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()},loadUrl:function(e){if(!this.matchRoot())return false;e=this.fragment=this.getFragment(e);return s.some(this.handlers,(function(t){if(t.route.test(e)){t.callback(e);return true}}))},navigate:function(e,t){if(!B.started)return false;if(!t||t===true)t={trigger:!!t};e=this.getFragment(e||"");var s=this.root;if(e===""||e.charAt(0)==="?"){s=s.slice(0,-1)||"/"}var i=s+e;e=this.decodeFragment(e.replace(z,""));if(this.fragment===e)return;this.fragment=e;if(this._usePushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;if(!t.replace){r.document.open();r.document.close()}this._updateHash(r.location,e,t.replace)}}else{return this.location.assign(i)}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,s){if(s){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else{e.hash="#"+t}}});t.history=new B;var $=function(e,t){var i=this;var r;if(e&&s.has(e,"constructor")){r=e.constructor}else{r=function(){return i.apply(this,arguments)}}s.extend(r,i,t);var n=function(){this.constructor=r};n.prototype=i.prototype;r.prototype=new n;if(e)s.extend(r.prototype,e);r.__super__=i.prototype;return r};y.extend=b.extend=S.extend=A.extend=B.extend=$;var L=function(){throw new Error('A "url" property or function must be specified')};var R=function(e,t){var s=t.error;t.error=function(i){if(s)s.call(t.context,e,i,t);e.trigger("error",e,i,t)}};return t}))},79742:(e,t)=>{"use strict";var s;s=c;t.b$=d;t.JQ=_;var i=[];var r=[];var n=typeof Uint8Array!=="undefined"?Uint8Array:Array;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,l=o.length;a<l;++a){i[a]=o[a];r[o.charCodeAt(a)]=a}r["-".charCodeAt(0)]=62;r["_".charCodeAt(0)]=63;function h(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var s=e.indexOf("=");if(s===-1)s=t;var i=s===t?0:4-s%4;return[s,i]}function c(e){var t=h(e);var s=t[0];var i=t[1];return(s+i)*3/4-i}function u(e,t,s){return(t+s)*3/4-s}function d(e){var t;var s=h(e);var i=s[0];var o=s[1];var a=new n(u(e,i,o));var l=0;var c=o>0?i-4:i;var d;for(d=0;d<c;d+=4){t=r[e.charCodeAt(d)]<<18|r[e.charCodeAt(d+1)]<<12|r[e.charCodeAt(d+2)]<<6|r[e.charCodeAt(d+3)];a[l++]=t>>16&255;a[l++]=t>>8&255;a[l++]=t&255}if(o===2){t=r[e.charCodeAt(d)]<<2|r[e.charCodeAt(d+1)]>>4;a[l++]=t&255}if(o===1){t=r[e.charCodeAt(d)]<<10|r[e.charCodeAt(d+1)]<<4|r[e.charCodeAt(d+2)]>>2;a[l++]=t>>8&255;a[l++]=t&255}return a}function f(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[e&63]}function m(e,t,s){var i;var r=[];for(var n=t;n<s;n+=3){i=(e[n]<<16&16711680)+(e[n+1]<<8&65280)+(e[n+2]&255);r.push(f(i))}return r.join("")}function _(e){var t;var s=e.length;var r=s%3;var n=[];var o=16383;for(var a=0,l=s-r;a<l;a+=o){n.push(m(e,a,a+o>l?l:a+o))}if(r===1){t=e[s-1];n.push(i[t>>2]+i[t<<4&63]+"==")}else if(r===2){t=(e[s-2]<<8)+e[s-1];n.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")}return n.join("")}}}]);
//# sourceMappingURL=2713.f1b93d02fa2125136d12.js.map?v=f1b93d02fa2125136d12